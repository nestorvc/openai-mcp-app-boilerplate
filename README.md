# OpenAI MCP App Boilerplate

A clean, minimal boilerplate for building ChatGPT Apps using the Model Context Protocol (MCP).

## Overview

This boilerplate provides:
- A React component bundle system with Vite
- A Node.js MCP server using the official TypeScript SDK
- Simple, clean project structure

## Project Structure

```
app/
├── web/                  # Component bundle source
│   ├── src/
│   │   ├── components/   # React widget components
│   │   └── index.css     # Global Tailwind styles
│   ├── dist/             # Build output
│   ├── package.json
│   └── tsconfig.json
│
└── server/               # MCP server (Node.js)
    ├── src/
    │   └── server.ts     # Main server file with MCP handlers
    ├── package.json
    └── tsconfig.json
```

### Folders

#### `web/` - React Component Bundle System
- **`src/components/`** - React widget components (todo example)
- **`src/index.css`** - Global Tailwind CSS styles
- **`dist/`** - Build output (HTML/JS/CSS files generated by build script)
- **`package.json`** - Web dependencies (React, Vite, Tailwind, etc.)
- **`tsconfig.json`** - TypeScript config for React components (JSX, DOM types)
- **`vite.config.ts`** - Vite dev server configuration
- **`build.mts`** - Build script that bundles components into standalone assets

#### `server/` - MCP (Model Context Protocol) Server
- **`src/server.ts`** - Main server file that handles MCP protocol requests from ChatGPT
- **`package.json`** - Server dependencies (MCP SDK, Zod)
- **`tsconfig.json`** - TypeScript config for Node.js server code

### Root Files

- **`package.json`** - Convenience scripts only (no dependencies - each subdirectory manages its own)
- **`README.md`** - This file!

## How It Works

1. **Build Process**: `web/build.mts` finds all components in `src/components/`, bundles them with Vite, and outputs standalone HTML/CSS/JS files to `dist/`.

2. **Server**: `server/src/server.ts` serves the built HTML files to ChatGPT via the MCP protocol when tools are called.

3. **Development**: Run `pnpm run dev` for hot reload of components, or `pnpm run build` to bundle for production.

## Prerequisites

- Node.js 18+
- pnpm (recommended)

## Getting Started

### Install dependencies

```bash
pnpm install           # Root dependencies
cd web && pnpm install # Web component dependencies
cd ../server && pnpm install # Server dependencies
```

Or use the convenience script:
```bash
pnpm run install:all
```

### Build the widget components

```bash
pnpm run build
```

This generates `.html`, `.js`, and `.css` files in `web/dist/` for each component.

### Start the MCP server

```bash
pnpm run server
```

The server will start on `http://localhost:8000` with the MCP endpoint at `http://localhost:8000/mcp`.

## Development

For local development with hot reload:

```bash
# Terminal 1: Web component dev server
pnpm run dev

# Terminal 2: Run the server
pnpm run server
```

## Creating New Widgets

1. Create a new component directory in `web/src/components/` with an `index.jsx` file
2. The build script will automatically pick it up when you run `pnpm run build`
3. Register the widget in `server/src/server.ts` in the `widgets` array
4. Rebuild with `pnpm run build`

### Component Structure

Each component should have:
- `index.jsx` - Entry point that exports the component
- Component files (e.g., `MyWidget.jsx`, `my-widget.css`)
- Any data files (e.g., `data.json`)

Example:
```
web/src/components/my-widget/
├── index.jsx
├── MyWidget.jsx
└── my-widget.css
```

## Testing in ChatGPT

To test your app in ChatGPT:

1. Enable [developer mode](https://platform.openai.com/docs/guides/developer-mode)
2. Add your app in Settings > Connectors
3. Use a tool to generate a tunnel like [ngrok](https://ngrok.com/) or [Cloudfare](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/) to expose your local server.

Example for ngrok:
   ```bash
   ngrok http 8000
   ```
4. Add the tunnel URL to ChatGPT (dont forget to add the "/mcp"): `https://your-subdomain.ngrok-free.app/mcp`

## Deployment

Set the `BASE_URL` environment variable when building:

```bash
BASE_URL=https://your-domain.com pnpm run build
```


## License

MIT
