# OpenAI MCP App Boilerplate

A clean, minimal boilerplate for building ChatGPT Apps using the Model Context Protocol (MCP) with a Node.js server.

## Overview

This boilerplate provides:
- A minimal React app with Vite for building widget components
- A Node.js MCP server example using the official TypeScript SDK
- Example widget components to get you started
- Build system that generates hashed assets for production

## Prerequisites

- Node.js 18+
- pnpm (recommended) or npm/yarn

## Getting Started

### Install dependencies

```bash
pnpm install
cd server && pnpm install
```

### Build the widget components

Build the React components into standalone assets:

```bash
pnpm run build
```

This generates versioned `.html`, `.js`, and `.css` files in the `assets/` directory.

### Start the MCP server

```bash
pnpm run server
```

The server will start on `http://localhost:8000` with the MCP endpoint at `http://localhost:8000/mcp`.

### Development

For local development with hot reload:

```bash
# Terminal 1: Build widgets in watch mode
pnpm run dev

# Terminal 2: Run the server
pnpm run server
```

## Project Structure

- `server/` - MCP server implementation (Node.js with TypeScript)
- `src/examples/` - React widget components
- `assets/` - Built widget files (generated)
- `build.mts` - Build script for widgets
- `vite.config.mts` - Vite configuration

```
openai-mcp-app-boilerplate/
├── server/                    # MCP server implementation
│   ├── src/
│   │   └── server.ts         # Main server file with MCP handlers
│   ├── package.json
│   ├── tsconfig.json
│   └── README.md
│
├── src/                       # React widget source code
│   ├── index.css             # Global Tailwind styles
│   └── examples/             # Example widget components
│       ├── todo/             # Todo list widget example
│       └── pizzaz/           # Pizza map widget example
│
├── assets/                    # Built widget files (generated by build)
│
├── build.mts                  # Build script for widgets
├── vite.config.mts           # Vite configuration
├── package.json              # Root package.json
├── tsconfig.json             # TypeScript configuration
└── README.md                 # Project README

```

## Key Files

### `server/src/server.ts`
The main MCP server implementation. This file:
- Defines available widgets/tools
- Handles MCP protocol requests
- Serves widget HTML to ChatGPT

### `src/examples/`
Example React components. Each example should have:
- `index.jsx` - Entry point that exports the component
- Component files (e.g., `todo.jsx`, `todo.css`)
- JSON data files if needed

### `build.mts`
Build script that:
- Finds all widget entries in `src/examples/`
- Bundles each widget with Vite
- Generates versioned HTML/JS/CSS files in `assets/`

### `vite.config.mts`
Vite configuration for development and building widgets.

## Testing in ChatGPT

To test your app in ChatGPT:

1. Enable [developer mode](https://platform.openai.com/docs/guides/developer-mode)
2. Add your app in Settings > Connectors
3. Use a tool like [ngrok](https://ngrok.com/) to expose your local server:

```bash
ngrok http 8000
```

4. Add the ngrok URL to ChatGPT: `https://your-subdomain.ngrok-free.app/mcp`

## Creating New Widgets

1. Create a new component in `src/` with an `index.jsx` file
2. The build script will automatically pick it up
3. Register the widget in `server/src/server.ts`
4. Rebuild with `pnpm run build`

## Deployment

Set the `BASE_URL` environment variable when deploying:

```bash
BASE_URL=https://your-domain.com pnpm run build
```

## License

MIT
